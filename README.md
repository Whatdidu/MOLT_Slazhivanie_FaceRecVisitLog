# üõ∞Ô∏è Sputnik Face ID: MVP Internal Office Access

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** [https://github.com/Whatdidu/MOLT_Slazhivanie_FaceRecVisitLog](https://github.com/Whatdidu/MOLT_Slazhivanie_FaceRecVisitLog)

## üìñ –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞
**–ö–æ–º–ø–∞–Ω–∏—è:** ¬´–°–ø—É—Ç–Ω–∏–∫¬ª (—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —É–º–Ω—ã—Ö –¥–æ–º–æ—Ñ–æ–Ω–æ–≤ –∏ –∫–∞–º–µ—Ä).
**–ó–∞–¥–∞—á–∞:** –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ª–∏—Ü –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –ø–æ—Å–µ—â–∞–µ–º–æ—Å—Ç–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ –æ—Ñ–∏—Å–∞.
**–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:** –ö–∞–º–µ—Ä–∞ –ø–∏—à–µ—Ç –≤–∏–¥–µ–æ 24/7. –û—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∫–∞–¥—Ä—ã –ø–æ —Å–æ–±—ã—Ç–∏—è–º (–¥–≤–∏–∂–µ–Ω–∏–µ/–∫–Ω–æ–ø–∫–∞) –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –∏—Ö –≤ –Ω–∞—à—É —Å–∏—Å—Ç–µ–º—É.
**–ú–∞—Å—à—Ç–∞–±:** –î–µ—Å—è—Ç–∫–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (–¥–æ 100). –°—Ä–æ–∫ MVP ‚Äî 1 –º–µ—Å—è—Ü.

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –ü—Ä–∏–Ω—Ü–∏–ø—ã

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
- **–ú–∏–Ω–∏–º—É–º –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:** –ú–æ–¥—É–ª—å–Ω—ã–π –º–æ–Ω–æ–ª–∏—Ç –Ω–∞ Python + FastAPI.
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å PII (–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ):** - –•—Ä–∞–Ω–∏–º **embeddings** (–≤–µ–∫—Ç–æ—Ä—ã) –≤–º–µ—Å—Ç–æ —Å—ã—Ä—ã—Ö —Ñ–æ—Ç–æ.
    - –û—Ä–∏–≥–∏–Ω–∞–ª—ã —Ñ–æ—Ç–æ ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —É–¥–∞–ª–µ–Ω–∏–µ–º (TTL).
- **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å:** –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π –∏ –æ—à–∏–±–æ–∫ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è.
- **–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–µ—à–µ–Ω–∏—è:** –°—Ç–∞—Ç—É—Å—ã `match`, `unknown`, `low_confidence` —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ (confidence).
- **–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** –ü–æ–ª–Ω–∞—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç—å —á–µ—Ä–µ–∑ Docker Compose + PostgreSQL.

### –°—Ö–µ–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
```ascii
[–ö–∞–º–µ—Ä–∞ 24/7] 
      |
[Snapshot Extractor (–¢–∞—Ç—å—è–Ω–∞)] --(Image)--> [ API (FastAPI) ]
                                              |
      +-----------------------+---------------+-----------------------+
      |                       |                                       |
[Recognition (–ú–∞–Ω—Å—É—Ä)]  [Attendance (–õ–∏–ª—è)]               [Employees (–û–ª—å–≥–∞)]
- –ê–Ω–∞–ª–∏–∑ –∫–∞–¥—Ä–∞          - –ñ—É—Ä–Ω–∞–ª –ø–æ—Å–µ—â–µ–Ω–∏–π                - –ë–∞–∑–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
- –ü–æ–∏—Å–∫ –≤ –ë–î            - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π             - Enrollment (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è)
- –†–∞—Å—á–µ—Ç —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏    - –û—Ç—á–µ—Ç "–ö—Ç–æ –≤ –æ—Ñ–∏—Å–µ"             - –•—Ä–∞–Ω–µ–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–æ–≤


–ö–æ–º–∞–Ω–¥–∞ –∏ –ó–æ–Ω—ã –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏s
–ú–∞–Ω—Å—É—Ä (–õ–∏–¥–µ—Ä, ML Backend): - –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –º–æ–¥—É–ª—å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è (recognition.py).

–í—ã–±–æ—Ä –º–æ–¥–µ–ª–µ–π –Ω–∞ Hugging Face, —Ä–∞—Å—á–µ—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤, –ª–æ–≥–∏–∫–∞ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è.

–õ–∏–ª—è (Attendance Service): - –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –º–æ–¥—É–ª—å —É—á–µ—Ç–∞ (attendance.py).

–õ–æ–≥–∏–∫–∞ –∂—É—Ä–Ω–∞–ª–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π, –æ—Ç—á–µ—Ç—ã, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–æ—Ö–æ–¥–æ–≤.

–û–ª—å–≥–∞ (Employee/Enrollment): - –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –º–æ–¥—É–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (employees.py).

–ü—Ä–æ—Ü–µ—Å—Å –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, —Ä–∞–±–æ—Ç–∞ —Å –ë–î, –ø—Ä–æ—Ü–µ—Å—Å –ø–µ—Ä–≤–∏—á–Ω–æ–π –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Ñ–æ—Ç–æ.

–¢–∞—Ç—å—è–Ω–∞ (Video/Integration): - –û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –∑–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–Ω–∞–ø—à–æ—Ç–æ–≤ –∏–∑ 24/7 –ø–æ—Ç–æ–∫–∞.

–ì–∞—Ä–∞–Ω—Ç–∏—è –¥–æ—Å—Ç–∞–≤–∫–∏ –∫–∞–¥—Ä–∞ –≤ API, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (ID –∫–∞–º–µ—Ä—ã, –≤—Ä–µ–º—è).


–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏
1. –°—Ç–µ–∫
–Ø–∑—ã–∫: Python 3.10+

–§—Ä–µ–π–º–≤–æ—Ä–∫: FastAPI

–ë–î: PostgreSQL (–∫–∞–∫ –Ω–∞–∏–±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–∞—è –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–µ–∫—Ç–æ—Ä–æ–≤ –≤ –º–∞—Å—Å–∏–≤–∞—Ö)

Deployment: Docker Compose

2. –ü–æ–ª–∏—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
–§–æ—Ç–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤: –•—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤–µ–∫—Ç–æ—Ä–∞.

–°–Ω–∞–ø—à–æ—Ç—ã —Å –∫–∞–º–µ—Ä—ã: –•—Ä–∞–Ω—è—Ç—Å—è –≤ /static/debug_photos —Å TTL 7 –¥–Ω–µ–π (–∞–≤—Ç–æ-—É–¥–∞–ª–µ–Ω–∏–µ).

–õ–æ–≥–∏: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø–∏—à—É—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É attendance_log —Å trace_id.

3. API –ö–æ–Ω—Ç—Ä–∞–∫—Ç—ã
POST /api/v1/recognition/detect: –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∫–∞–¥—Ä, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç person_id –∏ confidence.

POST /api/v1/employees/: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (–§–ò–û + –§–æ—Ç–æ -> –í–µ–∫—Ç–æ—Ä).

GET /api/v1/attendance/status: –°–ø–∏—Å–æ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–≤ –æ—Ñ–∏—Å–µ/—É—à–µ–ª".

üìÖ –ü–ª–∞–Ω —Ä–∞–±–æ—Ç (4 –Ω–µ–¥–µ–ª–∏)
–ù–µ–¥–µ–ª—è 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –∫–∞–º–µ—Ä–æ–π (–¢–∞—Ç—å—è–Ω–∞), –∫–∞—Ä–∫–∞—Å API –∏ –ë–î (–û–ª—å–≥–∞/–õ–∏–ª—è), –≤—ã–±–æ—Ä ML-–º–æ–¥–µ–ª–µ–π (–ú–∞–Ω—Å—É—Ä).
–ù–µ–¥–µ–ª—è 2: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤–µ–∫—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è (–ú–∞–Ω—Å—É—Ä), —Å–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ (–û–ª—å–≥–∞).
–ù–µ–¥–µ–ª—è 3: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –∂—É—Ä–Ω–∞–ª–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (–õ–∏–ª—è), –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π.
–ù–µ–¥–µ–ª—è 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ—Ö–æ–¥–∞—Ö, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –¥–µ–ø–ª–æ–π –Ω–∞ VM.

